import{c as ge,a as E,t as N}from"../chunks/kEMCu_gz.js";import{i as Q}from"../chunks/CNrEfIVF.js";import{A as Ae,l as z,a3 as pt,a2 as bt,x as Ze,i as xt,g as f,Q as ae,y as yt,z as He,B as Te,m as ie,af as wt,C as $e,j as Qe,D as kt,ai as Xe,a1 as At,J,ao as Fe,ap as Ie,I as et,a5 as he,aq as Oe,ar as Tt,as as Le,at as Be,au as It,a8 as St,av as Et,k as Mt,aw as Nt,ad as Ct,ax as tt,ay as Ot,az as Lt,aA as Pt,aB as Dt,aC as Rt,E as zt,aD as Ht,aE as Ft,F as at,b as Pe,aF as Bt,aG as Ut,aH as qt,aI as jt,n as ne,a9 as Ue,aa as qe,ab as Kt,aJ as Gt,G as Jt,N as Vt,K as Yt,aK as Wt,p as V,o as re,q as Y,M as j,s as m,aL as rt,v as d,w as A,t as P,aM as st,e as Zt,aN as it,a as $t,aO as Qt,aP as Xt}from"../chunks/o8uVwlLI.js";import{p as O,i as B,b as nt,s as ea,m as ta,a as aa,c as ra}from"../chunks/BuvULwC0.js";import{w as lt,o as pe,c as sa}from"../chunks/B5aVWopO.js";import{a as ia,b as na,w as la,l as oa,s as D,e as H,r as ua}from"../chunks/DupZqCu-.js";function me(t,e){return e}function va(t,e,a,r){for(var i=[],s=e.length,n=0;n<s;n++)It(e[n].e,i,!0);var l=s>0&&i.length===0&&a!==null;if(l){var g=a.parentNode;St(g),g.append(a),r.clear(),te(t,e[0].prev,e[s-1].next)}Et(i,()=>{for(var c=0;c<s;c++){var h=e[c];l||(r.delete(h.k),te(t,h.prev,h.next)),Mt(h.e,!l)}})}function le(t,e,a,r,i,s=null){var n=t,l={flags:e,items:new Map,first:null},g=(e&tt)!==0;if(g){var c=t;n=z?Ae(pt(c)):c.appendChild(bt())}z&&Ze();var h=null,b=!1,o=ae(()=>{var v=a();return At(v)?v:v==null?[]:Xe(v)});xt(()=>{var v=f(o),u=v.length;if(b&&u===0)return;b=u===0;let _=!1;if(z){var k=n.data===yt;k!==(u===0)&&(n=He(),Ae(n),Te(!1),_=!0)}if(z){for(var w=null,I,x=0;x<u;x++){if(ie.nodeType===8&&ie.data===wt){n=ie,_=!0,Te(!1);break}var p=v[x],y=r(p,x);I=ot(ie,l,w,null,p,y,x,i,e,a),l.items.set(y,I),w=I}u>0&&Ae(He())}z||da(v,l,n,i,e,r,a),s!==null&&(u===0?h?$e(h):h=Qe(()=>s(n)):h!==null&&kt(h,()=>{h=null})),_&&Te(!0),f(o)}),z&&(n=ie)}function da(t,e,a,r,i,s,n){var l=(i&Tt)!==0,g=(i&(Le|Oe))!==0,c=t.length,h=e.items,b=e.first,o=b,v,u=null,_,k=[],w=[],I,x,p,y;if(l)for(y=0;y<c;y+=1)I=t[y],x=s(I,y),p=h.get(x),p!==void 0&&(p.a?.measure(),(_??=new Set).add(p));for(y=0;y<c;y+=1){if(I=t[y],x=s(I,y),p=h.get(x),p===void 0){var T=o?o.e.nodes_start:a;u=ot(T,e,u,u===null?e.first:u.next,I,x,y,r,i,n),h.set(x,u),k=[],w=[],o=u.next;continue}if(g&&ca(p,I,y,i),(p.e.f&Ie)!==0&&($e(p.e),l&&(p.a?.unfix(),(_??=new Set).delete(p))),p!==o){if(v!==void 0&&v.has(p)){if(k.length<w.length){var S=w[0],M;u=S.prev;var C=k[0],L=k[k.length-1];for(M=0;M<k.length;M+=1)je(k[M],S,a);for(M=0;M<w.length;M+=1)v.delete(w[M]);te(e,C.prev,L.next),te(e,u,C),te(e,L,S),o=S,u=L,y-=1,k=[],w=[]}else v.delete(p),je(p,o,a),te(e,p.prev,p.next),te(e,p,u===null?e.first:u.next),te(e,u,p),u=p;continue}for(k=[],w=[];o!==null&&o.k!==x;)(o.e.f&Ie)===0&&(v??=new Set).add(o),w.push(o),o=o.next;if(o===null)continue;p=o}k.push(p),u=p,o=p.next}if(o!==null||v!==void 0){for(var U=v===void 0?[]:Xe(v);o!==null;)(o.e.f&Ie)===0&&U.push(o),o=o.next;var q=U.length;if(q>0){var K=(i&tt)!==0&&c===0?a:null;if(l){for(y=0;y<q;y+=1)U[y].a?.measure();for(y=0;y<q;y+=1)U[y].a?.fix()}va(e,U,K,h)}}l&&et(()=>{if(_!==void 0)for(p of _)p.a?.apply()}),he.first=e.first&&e.first.e,he.last=u&&u.e}function ca(t,e,a,r){(r&Le)!==0&&Be(t.v,e),(r&Oe)!==0?Be(t.i,a):t.i=a}function ot(t,e,a,r,i,s,n,l,g,c){var h=(g&Le)!==0,b=(g&Nt)===0,o=h?b?J(i):Fe(i):i,v=(g&Oe)===0?n:Fe(n),u={i:v,v:o,k:s,a:null,e:null,prev:a,next:r};try{return u.e=Qe(()=>l(t,o,v,c),z),u.e.prev=a&&a.e,u.e.next=r&&r.e,a===null?e.first=u:(a.next=u,a.e.next=u.e),r!==null&&(r.prev=u,r.e.prev=u.e),u}finally{}}function je(t,e,a){for(var r=t.next?t.next.e.nodes_start:a,i=e?e.e.nodes_start:a,s=t.e.nodes_start;s!==r;){var n=Ct(s);i.before(s),s=n}}function te(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function fa(t,e,a,r,i){z&&Ze();var s=e.$$slots?.[a],n=!1;s===!0&&(s=e.children,n=!0),s===void 0||s(t,n?()=>r:r)}const Ke=[...` 	
\r\f¬†\v\uFEFF`];function ma(t,e,a){var r=""+t;if(a){for(var i in a)if(a[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,n=0;(n=r.indexOf(i,n))>=0;){var l=n+s;(n===0||Ke.includes(r[n-1]))&&(l===r.length||Ke.includes(r[l]))?r=(n===0?"":r.substring(0,n))+r.substring(l+1):n=l}}return r===""?null:r}function ha(t,e){return t==null?null:String(t)}function Se(t,e,a,r,i,s){var n=t.__className;if(z||n!==a||n===void 0){var l=ma(a,r,s);(!z||l!==t.getAttribute("class"))&&(l==null?t.removeAttribute("class"):t.className=l),t.__className=a}else if(s&&i!==s)for(var g in s){var c=!!s[g];(i==null||c!==!!i[g])&&t.classList.toggle(g,c)}return s}function _a(t,e,a,r){var i=t.__style;if(z||i!==e){var s=ha(e);(!z||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}return r}const ga=Symbol("is custom element"),pa=Symbol("is html");function Ge(t){if(z){var e=!1,a=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;oe(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;oe(t,"checked",null),t.checked=i}}};t.__on_r=a,Dt(a),ia()}}function ba(t,e){var a=De(t);a.value===(a.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function xa(t,e){var a=De(t);a.checked!==(a.checked=e??void 0)&&(t.checked=e)}function oe(t,e,a,r){var i=De(t);z&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=a)&&(e==="loading"&&(t[Rt]=a),a==null?t.removeAttribute(e):typeof a!="string"&&ya(t).includes(e)?t[e]=a:t.setAttribute(e,a))}function De(t){return t.__attributes??={[ga]:t.nodeName.includes("-"),[pa]:t.namespaceURI===Ot}}var Je=new Map;function ya(t){var e=Je.get(t.nodeName);if(e)return e;Je.set(t.nodeName,e=[]);for(var a,r=t,i=Element.prototype;i!==r;){a=Pt(r);for(var s in a)a[s].set&&e.push(s);r=Lt(r)}return e}const wa=()=>performance.now(),Z={tick:t=>requestAnimationFrame(t),now:()=>wa(),tasks:new Set};function ut(){const t=Z.now();Z.tasks.forEach(e=>{e.c(t)||(Z.tasks.delete(e),e.f())}),Z.tasks.size!==0&&Z.tick(ut)}function ka(t){let e;return Z.tasks.size===0&&Z.tick(ut),{promise:new Promise(a=>{Z.tasks.add(e={c:t,f:a})}),abort(){Z.tasks.delete(e)}}}function fe(t,e){la(()=>{t.dispatchEvent(new CustomEvent(e))})}function Aa(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Ve(t){const e={},a=t.split(";");for(const r of a){const[i,s]=r.split(":");if(!i||s===void 0)break;const n=Aa(i.trim());e[n]=s.trim()}return e}const Ta=t=>t;function $(t,e,a,r){var i=(t&Ut)!==0,s=(t&qt)!==0,n=i&&s,l=(t&Bt)!==0,g=n?"both":i?"in":"out",c,h=e.inert,b=e.style.overflow,o,v;function u(){var x=Kt,p=he;Ue(null),qe(null);try{return c??=a()(e,r?.()??{},{direction:g})}finally{Ue(x),qe(p)}}var _={is_global:l,in(){if(e.inert=h,!i){v?.abort(),v?.reset?.();return}s||o?.abort(),fe(e,"introstart"),o=Ne(e,u(),v,1,()=>{fe(e,"introend"),o?.abort(),o=c=void 0,e.style.overflow=b})},out(x){if(!s){x?.(),c=void 0;return}e.inert=!0,fe(e,"outrostart"),v=Ne(e,u(),o,0,()=>{fe(e,"outroend"),x?.()})},stop:()=>{o?.abort(),v?.abort()}},k=he;if((k.transitions??=[]).push(_),i&&na){var w=l;if(!w){for(var I=k.parent;I&&(I.f&zt)!==0;)for(;(I=I.parent)&&(I.f&Ht)===0;);w=!I||(I.f&Ft)!==0}w&&at(()=>{Pe(()=>_.in())})}}function Ne(t,e,a,r,i){var s=r===1;if(jt(e)){var n,l=!1;return et(()=>{if(!l){var k=e({direction:s?"in":"out"});n=Ne(t,k,a,r,i)}}),{abort:()=>{l=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(a?.deactivate(),!e?.duration)return i(),{abort:ne,deactivate:ne,reset:ne,t:()=>r};const{delay:g=0,css:c,tick:h,easing:b=Ta}=e;var o=[];if(s&&a===void 0&&(h&&h(0,1),c)){var v=Ve(c(0,1));o.push(v,v)}var u=()=>1-r,_=t.animate(o,{duration:g});return _.onfinish=()=>{var k=a?.t()??1-r;a?.abort();var w=r-k,I=e.duration*Math.abs(w),x=[];if(I>0){var p=!1;if(c)for(var y=Math.ceil(I/16.666666666666668),T=0;T<=y;T+=1){var S=k+w*b(T/y),M=Ve(c(S,1-S));x.push(M),p||=M.overflow==="hidden"}p&&(t.style.overflow="hidden"),u=()=>{var C=_.currentTime;return k+w*b(C/I)},h&&ka(()=>{if(_.playState!=="running")return!1;var C=u();return h(C,1-C),!0})}_=t.animate(x,{duration:I,fill:"forwards"}),_.onfinish=()=>{u=()=>r,h?.(r,1-r),i()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=ne)},deactivate:()=>{i=ne},reset:()=>{r===0&&h?.(1,0)},t:()=>u()}}function Ia(t,e,a=e){var r=Gt();oa(t,"input",i=>{var s=i?t.defaultValue:t.value;if(s=Ee(t)?Me(s):s,a(s),r&&s!==(s=e())){var n=t.selectionStart,l=t.selectionEnd;t.value=s??"",l!==null&&(t.selectionStart=n,t.selectionEnd=Math.min(l,t.value.length))}}),(z&&t.defaultValue!==t.value||Pe(e)==null&&t.value)&&a(Ee(t)?Me(t.value):t.value),Jt(()=>{var i=e();Ee(t)&&i===Me(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Ee(t){var e=t.type;return e==="number"||e==="range"}function Me(t){return t===""?null:+t}function vt(t,e,a){var r=Vt(t,e);r&&r.set&&(t[e]=a,Yt(()=>{t[e]=null}))}function Ce(t,e,a){if(t.multiple)return Ea(t,e);for(var r of t.options){var i=dt(r);if(Wt(i,e)){r.selected=!0;return}}(!a||e!==void 0)&&(t.selectedIndex=-1)}function Sa(t,e){let a=!0;at(()=>{e&&Ce(t,Pe(e),a),a=!1;var r=new MutationObserver(()=>{var i=t.__value;Ce(t,i)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Ea(t,e){for(var a of t.options)a.selected=~e.indexOf(dt(a))}function dt(t){return"__value"in t?t.__value:t.value}function Ma(t,e){V(e,!1);let a=O(e,"darkMode",8,!1);const r=lt(a()?"dark":"light");function i(){r.update(l=>{const g=l==="light"?"dark":"light";return document.documentElement.classList.toggle("dark",g==="dark"),localStorage.setItem("theme",g),g})}pe(()=>{const l=localStorage.getItem("theme");return l?(r.set(l),document.documentElement.classList.toggle("dark",l==="dark")):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(r.set("dark"),document.documentElement.classList.add("dark")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",g=>{if(!localStorage.getItem("theme")){const c=g.matches?"dark":"light";r.set(c),document.documentElement.classList.toggle("dark",c==="dark")}}),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",()=>{})}}),Q();var s=ge(),n=re(s);return fa(n,e,"default",{}),E(t,s),vt(e,"toggleTheme",i),Y({toggleTheme:i})}var Na=N('<div class="absolute inset-0 bg-black bg-opacity-50 svelte-n5l4o5"></div>'),Ca=N('<div class="fixed inset-0 z-50 flex items-center justify-center svelte-n5l4o5"><!> <div class="relative z-10 flex flex-col items-center svelte-n5l4o5"><div class="w-24 h-24 mb-4 svelte-n5l4o5"><div class="w-full h-full rounded-full bg-primary flex items-center justify-center text-white text-3xl font-bold animate-pulse svelte-n5l4o5">L</div></div> <div class="text-white text-2xl font-medium blur-focus svelte-n5l4o5">Lyn AI Assistant</div> <div class="text-white text-sm mt-2 blur-focus svelte-n5l4o5" style="animation-delay: 100ms">Your privacy-first AI companion</div> <div class="mt-8 w-32 h-1 bg-white bg-opacity-20 rounded overflow-hidden blur-focus svelte-n5l4o5" style="animation-delay: 200ms"><div class="h-full w-1/2 bg-accent-orange rounded svelte-n5l4o5" style="animation: loading 1s infinite linear"></div></div></div></div>');function Oa(t,e){V(e,!1);let a=O(e,"duration",8,1e3),r=O(e,"autoStart",8,!0),i=O(e,"showOverlay",8,!0),s=J(!0);pe(()=>{r()&&setTimeout(()=>{j(s,!1)},a())});function n(){j(s,!1)}Q();var l=ge(),g=re(l);{var c=h=>{var b=Ca(),o=m(b);{var v=u=>{var _=Na();E(u,_)};B(o,u=>{i()&&u(v)})}rt(2),d(b),E(h,b)};B(g,h=>{f(s)&&h(c)})}return E(t,l),vt(e,"hide",n),Y({hide:n})}var La=N('<div class="mb-4 flex flex-col items-end"><div class="bg-accent-orange shadow-card max-w-[80%] rounded-lg p-4 text-white"><p class="m-0"> </p></div> <span class="mt-1 text-xs text-gray-500"> </span></div>');function Pa(t,e){V(e,!1);let a=O(e,"text",8),r=O(e,"timestamp",24,()=>new Date);function i(b){return b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}Q();var s=La(),n=m(s),l=m(n),g=m(l,!0);d(l),d(n);var c=A(n,2),h=m(c,!0);d(c),d(s),P(b=>{D(g,a()),D(h,b)},[()=>i(r())],ae),E(t,s),Y()}const Da=t=>t;function Ra(t){const e=t-1;return e*e*e+1}function Ye(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function ue(t,{delay:e=0,duration:a=400,easing:r=Da}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:r,css:s=>`opacity: ${s*i}`}}function _e(t,{delay:e=0,duration:a=400,easing:r=Ra,x:i=0,y:s=0,opacity:n=0}={}){const l=getComputedStyle(t),g=+l.opacity,c=l.transform==="none"?"":l.transform,h=g*(1-n),[b,o]=Ye(i),[v,u]=Ye(s);return{delay:e,duration:a,easing:r,css:(_,k)=>`
			transform: ${c} translate(${(1-_)*b}${o}, ${(1-_)*v}${u});
			opacity: ${g-h*k}`}}var za=N('<div class="thought-process"><p class="m-0"> </p></div>');function Ha(t,e){let a=O(e,"text",8);var r=za(),i=m(r),s=m(i,!0);d(i),d(r),P(()=>D(s,a())),E(t,r)}var Fa=N('<div class="bg-gray-100 p-2 rounded text-xs"><p class="m-0 mb-1 font-semibold">Result:</p> <pre class="m-0"> </pre></div>'),Ba=N('<div class="mt-2"><div class="bg-gray-100 p-2 rounded text-xs mb-2"><p class="m-0 mb-1 font-semibold">Arguments:</p> <pre class="m-0"> </pre></div> <!></div>'),Ua=N('<div class="relative tool-result"><div class="flex items-center justify-between"><div class="flex items-center"><span class="mr-2 text-lg"> </span> <span class="font-medium"> </span></div> <button class="text-xs text-primary hover:text-primary-dark focus:outline-none"> </button></div> <!></div>');function qa(t,e){V(e,!1);const a=J();let r=O(e,"name",8),i=O(e,"args",24,()=>({})),s=O(e,"result",8,null),n=J(!1);function l(y){return JSON.stringify(y,null,2)}function g(){j(n,!f(n))}const c={calculator:"üßÆ",datetime:"üïí",search:"üîç",weather:"‚òÅÔ∏è",file:"üìÅ",default:"üîß"};st(()=>Zt(r()),()=>{j(a,c[r()]||c.default)}),it();var h=Ua(),b=m(h),o=m(b),v=m(o),u=m(v,!0);d(v);var _=A(v,2),k=m(_);d(_),d(o);var w=A(o,2),I=m(w,!0);d(w),d(b);var x=A(b,2);{var p=y=>{var T=Ba(),S=m(T),M=A(m(S),2),C=m(M,!0);d(M),d(S);var L=A(S,2);{var U=q=>{var K=Fa(),ve=A(m(K),2),de=m(ve,!0);d(ve),d(K),P(be=>D(de,be),[()=>typeof s()=="object"?l(s()):s()],ae),E(q,K)};B(L,q=>{s()!==null&&q(U)})}d(T),P(q=>D(C,q),[()=>l(i())],ae),$(1,T,()=>ue,()=>({duration:150})),E(y,T)};B(x,y=>{f(n)&&y(p)})}d(h),P(()=>{D(u,f(a)),D(k,`Used ${r()??""}`),D(I,f(n)?"Hide details":"Show details")}),H("click",w,g),E(t,h),Y()}var ja=N('<button class="text-primary hover:text-primary-dark mt-1 ml-2 text-xs focus:outline-none"> </button>'),Ka=N('<div><div class="bg-thought-bubble mt-2 rounded-lg p-3 text-sm italic"><!></div></div>'),Ga=N('<div class="mt-2"><!></div>'),Ja=N('<div class="mb-4 flex flex-col items-start"><div class="flex items-start"><div class="bg-primary mr-2 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full text-white">L</div> <div><div class="bg-ai-bubble shadow-card rounded-lg p-4"><p class="m-0"> </p></div> <!> <!> <!> <span class="mt-1 block text-xs text-gray-500"> </span></div></div></div>');function Va(t,e){V(e,!1);let a=O(e,"text",8),r=O(e,"thoughts",8,null),i=O(e,"tools",24,()=>[]),s=O(e,"timestamp",24,()=>new Date),n=J(!1);function l(T){return T.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function g(){j(n,!f(n))}Q();var c=Ja(),h=m(c),b=A(m(h),2),o=m(b),v=m(o),u=m(v,!0);d(v),d(o);var _=A(o,2);{var k=T=>{var S=ja(),M=m(S,!0);d(S),P(()=>D(M,f(n)?"Hide thinking":"Show thinking")),H("click",S,g),E(T,S)};B(_,T=>{r()&&T(k)})}var w=A(_,2);{var I=T=>{var S=Ka(),M=m(S),C=m(M);Ha(C,{get text(){return r()}}),d(M),d(S),$(1,S,()=>ue,()=>({duration:150})),E(T,S)};B(w,T=>{f(n)&&r()&&T(I)})}var x=A(w,2);le(x,1,i,me,(T,S,M)=>{var C=Ga(),L=m(C);qa(L,{get name(){return f(S).name},get arguments(){return f(S).arguments},get result(){return f(S).result}}),d(C),$(1,C,()=>ue,()=>({duration:150,delay:100*M})),E(T,C)});var p=A(x,2),y=m(p,!0);d(p),d(b),d(h),d(c),P(T=>{D(u,a()),D(y,T)},[()=>l(s())],ae),E(t,c),Y()}var Ya=N('<div class="flex"><div class="relative flex-1"><textarea class="input min-h-[50px] max-h-[200px] resize-none pr-12" placeholder="Type your message..." rows="1"></textarea> <button class="absolute right-2 bottom-2 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2" aria-label="Send message"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg></button></div></div>');function We(t,e){V(e,!1);let a=O(e,"onmessage",8,void 0),r=O(e,"onsecurityAlert",8,void 0),i=J(""),s=J();const n={email:/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,phoneNumber:/\b(\+\d{1,3}[ -]?)?\(?\d{3}\)?[ -]?\d{3}[ -]?\d{4}\b/,creditCard:/\b(?:\d{4}[ -]?){3}\d{4}\b/,ssn:/\b\d{3}[ -]?\d{2}[ -]?\d{4}\b/};function l(_){for(const[k,w]of Object.entries(n))if(w.test(_)){r()?.(new CustomEvent("securityAlert",{detail:`potential ${k}`}));break}}function g(){f(i).trim()&&(a()?.(new CustomEvent("message",{detail:f(i).trim()})),j(i,""),f(s)?.focus())}function c(_){_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),g())}function h(){l(f(i))}Q();var b=Ya(),o=m(b),v=m(o);ua(v),nt(v,_=>j(s,_),()=>f(s));var u=A(v,2);d(o),d(b),P(_=>u.disabled=_,[()=>!f(i).trim()],ae),Ia(v,()=>f(i),_=>j(i,_)),H("input",v,h),H("keydown",v,c),H("click",u,g),E(t,b),Y()}var Wa=N('<div class="fixed right-5 bottom-5 z-50 max-w-md"><div class="shadow-elevated border-accent-orange rounded-lg border-l-4 bg-white p-4"><div class="flex"><div class="mr-3 flex-shrink-0"><div class="bg-primary flex h-12 w-12 animate-pulse items-center justify-center rounded-full text-2xl text-white">üõ°Ô∏è</div></div> <div class="flex-1"><h4 class="mb-1 text-base font-medium text-gray-900">Potential Privacy Concern</h4> <p class="mb-3 text-sm text-gray-700"> </p> <div class="flex space-x-2"><button class="btn-primary px-3 py-1 text-xs">Make Private</button> <button class="btn-secondary px-3 py-1 text-xs">Keep Public</button></div></div></div></div></div>');function Za(t,e){V(e,!1);let a=O(e,"detectedPII",12,null);function r(){alert("Data marked as private. It will be redacted before sending to any service."),a(null)}function i(){alert("Data marked as public. Please be careful with sensitive information."),a(null)}Q();var s=ge(),n=re(s);{var l=g=>{var c=Wa(),h=m(c),b=m(h),o=A(m(b),2),v=A(m(o),2),u=m(v);d(v);var _=A(v,2),k=m(_),w=A(k,2);d(_),d(o),d(b),d(h),d(c),P(()=>D(u,`I've detected what appears to be ${a().type??""} in your message.
            How would you like to proceed?`)),H("click",k,r),H("click",w,i),$(1,c,()=>_e,()=>({y:20,duration:200})),$(2,c,()=>_e,()=>({y:20,duration:200})),E(g,c)};B(n,g=>{a()&&g(l)})}E(t,s),Y()}var $a=N('<div class="animate-blur-focus"><!></div>'),Qa=N('<div class="flex h-full flex-col"><div class="bg-background flex-1 overflow-y-auto p-4"></div> <div class="border-t bg-white p-4"><!></div> <!> <div class="border-t bg-white p-4"><!></div></div>');function Xa(t,e){V(e,!0);const[a,r]=ra(),i=()=>aa(n,"$detectedPII",a);let s=O(e,"messages",7);const n=lt(null);let l,g=!0;function c(){const{scrollTop:x,scrollHeight:p,clientHeight:y}=l,T=p-y-100;g=x>T}function h(x){s([...s(),{id:"3",type:"user",text:x,timestamp:new Date}]),setTimeout(()=>{const p={id:"4",type:"ai",text:"This is a sample AI response. In a real implementation, this would come from the backend.",thoughts:"I am thinking about how to respond to the user query.",tools:[{name:"calculator",arguments:{expression:"2+2"},result:"4"}],timestamp:new Date};s([...s(),p])},1e3)}function b(x){n.set({id:Math.random().toString(36).substring(2,9),type:"sensitive information",value:x.detail}),setTimeout(()=>{n.set(null)},5e3)}$t(()=>{g&&l&&(l.scrollTop=l.scrollHeight)});var o=Qa(),v=m(o);le(v,23,s,x=>x.id,(x,p,y)=>{var T=$a(),S=m(T);{var M=L=>{Pa(L,{get text(){return f(p).text},get timestamp(){return f(p).timestamp}})},C=(L,U)=>{{var q=K=>{Va(K,{get text(){return f(p).text},get thoughts(){return f(p).thoughts},get tools(){return f(p).tools},get timestamp(){return f(p).timestamp}})};B(L,K=>{f(p).type==="ai"&&K(q)},U)}};B(S,L=>{f(p).type==="user"?L(M):L(C,!1)})}d(T),P(()=>_a(T,`animation-delay: ${f(y)*100}ms`)),E(x,T)}),d(v),nt(v,x=>l=x,()=>l);var u=A(v,2),_=m(u);We(_,{$$events:{message:x=>h(x.detail),securityAlert:b}}),d(u);var k=A(u,2);Za(k,{get detectedPII(){return ta(),i()},set detectedPII(x){ea(n,x)}});var w=A(k,2),I=m(w);We(I,{$$events:{message:x=>h(x.detail),securityAlert:b}}),d(w),d(o),H("scroll",v,c),E(t,o),Y(),r()}function er(t){return--t*t*t*t*t+1}var tr=N('<div class="relative inline-block w-10 mr-2 align-middle select-none"><input type="checkbox" class="sr-only peer"> <label class="block h-6 rounded-full bg-gray-300 cursor-pointer peer-checked:bg-primary"></label> <span class="absolute left-1 top-1 bg-white h-4 w-4 rounded-full transition peer-checked:translate-x-4"></span></div> <span class="text-sm"> </span>',1),ar=N("<option> </option>"),rr=N('<select class="input"></select>'),sr=N('<input type="text" class="input">'),ir=N('<div class="mb-4"><label class="block mb-2 text-sm font-medium"> </label> <!> <!> <!></div>'),nr=N('<div class="mb-6"><div class="flex items-center mb-2"><span class="mr-2 text-xl"> </span> <h3 class="text-lg font-medium m-0"> </h3></div> <div class="ml-8"></div></div>'),lr=N('<div class="settings-menu fixed right-0 top-0 h-full w-full sm:w-96 max-w-full bg-white shadow-lg z-40 overflow-y-auto"><div class="sticky top-0 bg-white z-10 border-b px-4 py-3 flex justify-between items-center"><h2 class="text-xl font-medium m-0">Settings</h2> <button class="p-2 rounded-full hover:bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="p-4"><!> <div class="text-xs text-gray-500 mt-8 pt-4 border-t"><p class="m-0">Lyn AI Assistant v0.1.0</p> <p class="m-0"> </p></div></div></div> <div class="fixed inset-0 bg-black bg-opacity-50 z-30 sm:hidden"></div>',1);function or(t,e){V(e,!1);const a=J();let r=O(e,"isOpen",12,!1),i=J(!1);pe(()=>{j(i,window.__TAURI__!==void 0)});function s(b){r()&&!b.target.closest(".settings-menu")&&r(!1)}const n=[{title:"Appearance",icon:"üé®",options:[{id:"theme",label:"Theme",type:"select",value:"light",choices:["light","dark","system"]},{id:"fontSize",label:"Font Size",type:"select",value:"medium",choices:["small","medium","large"]}]},{title:"Privacy",icon:"üîí",options:[{id:"storeConversations",label:"Store Conversations",type:"toggle",value:!0},{id:"storePreferences",label:"Store Preferences",type:"toggle",value:!0},{id:"allowAnonymizedData",label:"Allow Anonymized Data",type:"toggle",value:!1}]},{title:"LLM Settings",icon:"ü§ñ",options:[{id:"llmProvider",label:"LLM Provider",type:"select",value:"local",choices:["local","openai","anthropic"]},{id:"modelName",label:"Model Name",type:"text",value:"llama3.2:1b"}]}];function l(b,o,v){Xt(a,f(a)[b].options[o].value=v)}st(()=>f(i),()=>{j(a,f(i)?[...n,{title:"Desktop Settings",icon:"üíª",options:[{id:"startOnBoot",label:"Start on Boot",type:"toggle",value:!1},{id:"minimizeToTray",label:"Minimize to Tray",type:"toggle",value:!0}]}]:n)}),it(),Q();var g=ge();H("click",Qt,s);var c=re(g);{var h=b=>{var o=lr(),v=re(o),u=m(v),_=A(m(u),2);d(u);var k=A(u,2),w=m(k);le(w,1,()=>f(a),me,(T,S,M)=>{var C=nr(),L=m(C),U=m(L),q=m(U,!0);d(U);var K=A(U,2),ve=m(K,!0);d(K),d(L);var de=A(L,2);le(de,5,()=>f(S).options,me,(be,F,xe)=>{var ye=ir(),we=m(ye),ct=m(we,!0);d(we);var Re=A(we,2);{var ft=G=>{var R=tr(),X=re(R),W=m(X);Ge(W);var se=A(W,2);rt(2),d(X);var ee=A(X,2),ce=m(ee,!0);d(ee),P(()=>{oe(W,"id",f(F).id),xa(W,f(F).value),oe(se,"for",f(F).id),D(ce,f(F).value?"Enabled":"Disabled")}),H("change",W,ke=>l(M,xe,ke.target.checked)),E(G,R)};B(Re,G=>{f(F).type==="toggle"&&G(ft)})}var ze=A(Re,2);{var mt=G=>{var R=rr();Sa(R,()=>f(F).value);var X;le(R,5,()=>f(F).choices,me,(W,se)=>{var ee=ar(),ce={},ke=m(ee,!0);d(ee),P(gt=>{ce!==(ce=f(se))&&(ee.value=(ee.__value=f(se))??""),D(ke,gt)},[()=>f(se).charAt(0).toUpperCase()+f(se).slice(1)],ae),E(W,ee)}),d(R),P(()=>{X!==(X=f(F).value)&&(R.value=(R.__value=f(F).value)??"",Ce(R,f(F).value))}),H("change",R,W=>l(M,xe,W.target.value)),E(G,R)};B(ze,G=>{f(F).type==="select"&&G(mt)})}var ht=A(ze,2);{var _t=G=>{var R=sr();Ge(R),P(()=>ba(R,f(F).value)),H("input",R,X=>l(M,xe,X.target.value)),E(G,R)};B(ht,G=>{f(F).type==="text"&&G(_t)})}d(ye),P(()=>D(ct,f(F).label)),E(be,ye)}),d(de),d(C),P(()=>{D(q,f(S).icon),D(ve,f(S).title)}),E(T,C)});var I=A(w,2),x=A(m(I),2),p=m(x);d(x),d(I),d(k),d(v);var y=A(v,2);P(()=>D(p,`Running on ${f(i)?"Desktop (Tauri)":"Web"}`)),H("click",_,()=>r(!1)),$(1,v,()=>_e,()=>({x:300,duration:200,easing:er})),$(2,v,()=>_e,()=>({x:300,duration:200})),$(1,y,()=>ue,()=>({duration:200})),$(2,y,()=>ue,()=>({duration:200})),H("click",y,()=>r(!1)),E(b,o)};B(c,b=>{r()&&b(h)})}E(t,g),Y()}var ur=N('<button class="w-10 h-10 relative focus:outline-none bg-white hover:bg-gray-100 rounded-full p-2"><div class="block w-6 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2"><span></span> <span></span> <span></span></div></button>');function vr(t,e){V(e,!1);const a=sa();let r=O(e,"isOpen",12,!1);function i(){r(!r()),a("toggle",r())}Q();var s=ur(),n=m(s),l=m(n);let g;var c=A(l,2);let h;var b=A(c,2);let o;d(n),d(s),P((v,u,_)=>{oe(s,"aria-label",r()?"Close menu":"Open menu"),g=Se(l,1,"block absolute h-0.5 w-6 bg-current transform transition duration-300 ease-in-out",null,g,v),h=Se(c,1,"block absolute h-0.5 w-6 bg-current transform transition duration-300 ease-in-out",null,h,u),o=Se(b,1,"block absolute h-0.5 w-6 bg-current transform transition duration-300 ease-in-out",null,o,_)},[()=>({"rotate-45":r(),"translate-y-1.5":!r()}),()=>({"opacity-0":r()}),()=>({"-rotate-45":r(),"-translate-y-1.5":!r()})],ae),H("click",s,i),E(t,s),Y()}var dr=N('<!> <div class="bg-background flex h-screen flex-col"><header class="flex items-center justify-between border-b bg-white p-3 shadow-sm"><div class="flex items-center"><div class="bg-primary mr-2 flex h-8 w-8 items-center justify-center rounded-full text-white">L</div> <h1 class="m-0 text-lg font-medium">Lyn AI Assistant</h1></div> <!></header> <main class="h-full flex-1 overflow-hidden"><!></main> <!></div>',1);function pr(t,e){V(e,!1);let a=J(!0),r=J(!1);const i=[{id:"1",type:"user",text:"Hello! Can you help me with a calculation?",timestamp:new Date(Date.now()-6e4)},{id:"2",type:"ai",text:"Of course! I'd be happy to help with a calculation. What would you like to calculate?",timestamp:new Date(Date.now()-45e3),thoughts:"I should be helpful and direct with calculation requests."}];pe(()=>{setTimeout(()=>{j(a,!1)},1500)});function s(){j(r,!f(r))}Q(),Ma(t,{children:(n,l)=>{var g=dr(),c=re(g);{var h=w=>{Oa(w,{duration:1500})};B(c,w=>{f(a)&&w(h)})}var b=A(c,2),o=m(b),v=A(m(o),2);vr(v,{get isOpen(){return f(r)},$$events:{toggle:s}}),d(o);var u=A(o,2),_=m(u);Xa(_,{messages:i}),d(u);var k=A(u,2);or(k,{get isOpen(){return f(r)},set isOpen(w){j(r,w)},$$legacy:!0}),d(b),E(n,g)},$$slots:{default:!0}}),Y()}export{pr as component};
