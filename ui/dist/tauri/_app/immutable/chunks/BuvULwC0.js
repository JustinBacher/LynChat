import{l as O,x as H,i as Z,E as w,H as z,y as V,z as j,A as J,B as h,C as U,j as Y,D as q,U as K,m as Q,F as W,G as X,b as m,I as k,S as C,n as B,J as $,g as d,K as x,L as ee,M as F,N as re,O as se,P as ae,Q as ne,R as ie,T as ue,V as te,f as M,W as fe,X as le,Y as _e,Z as ce,_ as ve,$ as oe}from"./o8uVwlLI.js";import{s as be,g as de}from"./B5aVWopO.js";function Ee(e,s,[n,r]=[0,0]){O&&n===0&&H();var u=e,a=null,t=null,b=K,E=n>0?w:0,l=!1;const T=(f,_=!0)=>{l=!0,o(_,f)},o=(f,_)=>{if(b===(b=f))return;let I=!1;if(O&&r!==-1){if(n===0){const c=u.data;c===z?r=0:c===V?r=1/0:(r=parseInt(c.substring(1)),r!==r&&(r=b?1/0:-1))}const P=r>n;!!b===P&&(u=j(),J(u),h(!1),I=!0,r=-1)}b?(a?U(a):_&&(a=Y(()=>_(u))),t&&q(t,()=>{t=null})):(t?U(t):_&&(t=Y(()=>_(u,[n+1,r]))),a&&q(a,()=>{a=null})),I&&h(!0)};Z(()=>{l=!1,s(T),l||o(null,null)},E),O&&(u=Q)}function p(e,s){return e===s||e?.[C]===s}function Pe(e={},s,n,r){return W(()=>{var u,a;return X(()=>{u=a,a=[],m(()=>{e!==n(...a)&&(s(e,...a),u&&p(n(...u),e)&&s(null,...u))})}),()=>{k(()=>{a&&p(n(...a),e)&&s(null,...a)})}}),e}let g=!1,D=Symbol();function Te(e,s,n){const r=n[s]??={store:null,source:$(void 0),unsubscribe:B};if(r.store!==e&&!(D in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=B;else{var u=!0;r.unsubscribe=be(e,a=>{u?r.source.v=a:F(r.source,a)}),u=!1}return e&&D in n?de(e):d(r.source)}function Ae(e,s){return e.set(s),s}function Re(){const e={};function s(){x(()=>{for(var n in e)e[n].unsubscribe();ee(e,D,{enumerable:!1,value:!0})})}return[e,s]}function Ne(){g=!0}function Ie(e){var s=g;try{return g=!1,[e(),g]}finally{g=s}}function y(e){return e.ctx?.d??!1}function Oe(e,s,n,r){var u=(n&oe)!==0,a=!ue||(n&te)!==0,t=(n&fe)!==0,b=(n&ve)!==0,E=!1,l;t?[l,E]=Ie(()=>e[s]):l=e[s];var T=C in e||ie in e,o=t&&(re(e,s)?.set??(T&&s in e&&(i=>e[s]=i)))||void 0,f=r,_=!0,I=!1,P=()=>(I=!0,_&&(_=!1,b?f=m(r):f=r),f);l===void 0&&r!==void 0&&(o&&a&&se(),l=P(),o&&o(l));var c;if(a)c=()=>{var i=e[s];return i===void 0?P():(_=!0,I=!1,i)};else{var L=(u?M:ne)(()=>e[s]);L.f|=ae,c=()=>{var i=d(L);return i!==void 0&&(f=void 0),i===void 0?f:i}}if((n&le)===0)return c;if(o){var G=e.$$legacy;return function(i,S){return arguments.length>0?((!a||!S||G||E)&&o(S?c():i),i):c()}}var A=!1,R=$(l),v=M(()=>{var i=c(),S=d(R);return A?(A=!1,S):R.v=i});return t&&d(v),u||(v.equals=_e),function(i,S){if(arguments.length>0){const N=S?d(v):a&&t?ce(i):i;if(!v.equals(N)){if(A=!0,F(R,N),I&&f!==void 0&&(f=N),y(v))return i;m(()=>d(v))}return i}return y(v)?v.v:d(v)}}export{Te as a,Pe as b,Re as c,Ee as i,Ne as m,Oe as p,Ae as s};
